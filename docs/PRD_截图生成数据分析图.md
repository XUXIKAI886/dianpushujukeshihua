# 产品需求文档 (PRD)

## 截图生成数据分析图工具

### 1. 产品概述

#### 1.1 产品名称
店铺数据截图分析工具

#### 1.2 产品目标
- 通过上传外卖店铺30天流量数据截图，自动生成专业的数据分析可视化图片
- 用于挽留商家解约，提升数据分析的专业度
- 每个店铺仅限使用一次

#### 1.3 核心价值
- 快速生成专业级数据分析图
- 配套专业话术，提升客户信任度
- 降低商家解约率

---

### 2. 功能需求

#### 2.1 首页入口
- 在首页新增第三个卡片入口
- 卡片标题：「截图生成数据分析图」
- 卡片描述：「上传店铺数据截图，AI生成专业分析图片」
- 点击进入工具页面 `/screenshot-analysis`

#### 2.2 工具页面功能

##### 2.2.1 输入区域
| 元素 | 说明 |
|------|------|
| 店铺名称输入框 | 必填，用于生成图片标题 |
| 截图上传区域 | 支持拖拽/点击上传，仅支持图片格式 |
| 开始生成按钮 | 点击后调用 AI 生成图片 |

##### 2.2.2 输出区域
| 元素 | 说明 |
|------|------|
| 图片预览区 | 高分辨率预览生成的分析图 |
| 复制图片按钮 | 一键复制图片到剪贴板 |
| 下载图片按钮 | 下载图片到本地 |
| 数据分析文案框 | 展示预设的专业话术 |
| 复制文案按钮 | 一键复制话术到剪贴板 |

---

### 3. 技术规格

#### 3.1 API 配置
```yaml
模型: gemini-3-pro-image-preview
端点: https://yunwu.ai/v1beta/models/gemini-3-pro-image-preview:generateContent
令牌: sk-HmiefdcbEJlZ8ecp3XyJBJtniWu7lLaYSo0BISzB5fzHvQRx
输出分辨率: 2K
图片比例: 4:3
```

#### 3.2 Prompt 模板
```
请仔细读取图1的店铺数据图，这个店铺的名称是："{店铺名称}"
请参考图2的风格和排版，生成一张关于这个店铺的数据分析图，4K高清，尺寸4:3
```

#### 3.3 参考图片
- 路径: `/public/reference/data-analysis-template.jpg`
- 来源: 山饺下店铺数据增长分析PPT_看图王.jpg

---

### 4. 预设话术

```
老板，我们看了您店铺这30天的数据，整体走势是符合预期的。现在这个阶段其实是在给店铺打地基，平台算法需要一段时间来重新识别您店铺的品类定位和用户画像，这个过程中权重在慢慢积累。从数据曲线上看，虽然现在单量和曝光还没有明显爆发，但基础指标已经在往好的方向走了，店铺的搜索权重和推荐权重都在稳步提升。外卖运营就是这样，前期要把地基打牢，后面才能稳定增长。根据我们的经验和您店铺目前的数据表现，接下来会开始进入一个阶梯式递增的阶段，单量和曝光都会逐步往上走。我们会继续盯着数据，配合这个上升趋势做好优化调整。
```

---

### 5. 文件结构

```
src/
├── app/
│   └── screenshot-analysis/
│       └── page.tsx                 # 工具主页面
├── components/
│   ├── ScreenshotUpload.tsx         # 截图上传组件
│   ├── ImagePreview.tsx             # 图片预览和操作组件
│   └── AnalysisCopyText.tsx         # 文案展示和复制组件
├── lib/
│   └── geminiImageService.ts        # Gemini API 调用服务
└── types/
    └── screenshot.ts                # 类型定义

public/
└── reference/
    └── data-analysis-template.jpg   # 参考图片模板
```

---

### 6. 用户流程

```
1. 用户从首页点击「截图生成数据分析图」卡片
   ↓
2. 进入工具页面，输入店铺名称
   ↓
3. 上传店铺30天流量数据截图
   ↓
4. 点击「开始生成」按钮
   ↓
5. 等待 AI 生成图片（显示加载状态）
   ↓
6. 查看生成的分析图预览
   ↓
7. 复制/下载图片 + 复制话术文案
   ↓
8. 使用图片和话术与商家沟通
```

---

### 7. UI 设计要点

- 整体风格与现有页面保持一致
- 使用渐变背景和卡片式布局
- 图片预览区域要足够大，确保清晰度
- 按钮使用明显的视觉反馈
- 加载状态使用骨架屏或进度指示

---

### 8. 注意事项

1. **使用限制**: 每个店铺仅限使用一次（可通过本地存储记录）
2. **图片格式**: 支持 JPG、PNG、WebP
3. **文件大小**: 限制 10MB 以内
4. **错误处理**: 提供清晰的错误提示
5. **兼容性**: 剪贴板复制需兼容 Tauri 桌面环境
